---
id: BUG-001
type: bug
title: Spike command creates code folders and prototype code instead of research-only
status: done
priority: medium
created: 2025-12-19T10:00:00
updated: 2025-12-20T21:30:00
resolved: 2025-12-20T21:30:00
reporter: user
assignee: null
labels: [spike, workflow, devloop]
related-files:
  - plugins/devloop/commands/spike.md
---

# BUG-001: Spike command creates code folders and prototype code instead of research-only

## Description

The `/devloop:spike` command instructs agents to create prototype code in a `spike/` or `experiments/` folder in the target repository. This is incorrect behavior - a spike should be purely research and analysis, not code creation.

## Steps to Reproduce

1. Run `/devloop:spike` in any repository
2. Follow the workflow through Phase 3: Prototype
3. The command instructs to "Create throwaway prototype code" in `spike/` or `experiments/` directory

## Expected Behavior

The spike command should:
- Research, investigate, and understand the problem space
- Form hypotheses and evaluate approaches
- Seek user feedback when required
- Produce a set of **options** for the user to choose from
- Update or build the plan so another agent can implement it

The spike command should **NOT**:
- Create directories like `spike/`, `experiments/`, or `poc/` in the target repo
- Write any prototype code
- Create files other than the spike report in `.devloop/spikes/`

## Root Cause

In `plugins/devloop/commands/spike.md`, Phase 3 (lines 119-135) explicitly instructs:
```markdown
### Phase 3: Prototype

**Goal**: Build minimal proof of concept

**Actions**:
1. Create throwaway prototype code:
   - Use `spike/` or `experiments/` directory
   - Don't worry about production quality
   - Focus on answering the spike questions
```

This entire phase needs to be reimagined as "Hypothesis & Options" rather than "Prototype".

## Proposed Fix

1. Rename Phase 3 from "Prototype" to "Hypothesis & Options"
2. Replace code creation with:
   - Documenting hypothesized approaches
   - Listing pros/cons of each approach
   - Identifying risks and unknowns for each option
   - Recommending an approach with justification
3. Remove all references to creating code/directories
4. Ensure the spike report presents clear options for user decision
5. Add explicit integration with plan management (add/edit tasks based on findings)

## Notes

A spike is a time-boxed research activity, not a coding activity. The implementation should happen via `/devloop:continue` after the spike informs the plan.

## Resolution

- **Resolved in**: v1.13.0
- **Resolved by**: Plugin Simplification v1.1 plan
- **Resolution summary**: The spike command was refactored as part of the phase-templates consolidation. The current implementation focuses on research, hypothesis, and options rather than creating prototype code. Spike reports are saved to `.devloop/spikes/` and the workflow no longer instructs agents to create `spike/` or `experiments/` directories in target repositories.
